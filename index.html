<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible+Next:ital,wght@0,200..800;1,200..800&display=swap');
  </style>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1/themes/prism.css" />
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1/prism.min.js"></script>

  <link rel="stylesheet" href="main.css" />
  <title>CSS Day 2025 - Beyond Borders and Outlines</title>
  <meta name="description"
    content="Crafting Inclusive Experiences with Modern CSS: Discover some cool CSS features that can help us create more accessible and inclusive web experiences." />
  <meta name="keywords" content="CSS, Accessibility, A11y, CSS Day 2025, Inclusive Design" />
</head>

<body class="debug-a11y">
  <header class="header container-shadow">

    <!-- backdrop -->
    <div class="header__backdrop"></div>

    <svg aria-hidden="true" style="fill: white; margin-bottom: 1rem;" xmlns="http://www.w3.org/2000/svg" width="7em"
      height="100%" viewBox="0 0 614 383">
      <g>
        <rect x="0" y="0" width="184" height="46" rx="7" ry="7" />
        <rect x="0" y="55" width="46" height="122" rx="7" ry="7" />
        <rect x="57" y="131" width="127" height="46" rx="7" ry="7" />
      </g>
      <g>
        <rect x="215" y="0" width="46" height="110" rx="7" ry="7" />
        <rect x="271" y="0" width="128" height="46" rx="7" ry="7" />
        <rect x="275" y="65" width="64" height="46" rx="7" ry="7" />
        <rect x="353" y="65" width="46" height="112" rx="7" ry="7" />
        <rect x="215" y="131" width="128" height="46" rx="7" ry="7" />
      </g>
      <g>
        <rect x="430" y="0" width="46" height="110" rx="7" ry="7" />
        <rect x="486" y="0" width="128" height="46" rx="7" ry="7" />
        <rect x="490" y="65" width="64" height="46" rx="7" ry="7" />
        <rect x="568" y="65" width="46" height="112" rx="7" ry="7" />
        <rect x="430" y="131" width="128" height="46" rx="7" ry="7" />
      </g>
      <g>
        <rect x="0" y="206" width="127" height="46" rx="7" ry="7" />
        <rect x="138" y="206" width="46" height="122" rx="7" ry="7" />
        <rect x="0" y="261" width="46" height="122" rx="7" ry="7" />
        <rect x="57" y="337" width="127" height="46" rx="7" ry="7" />
      </g>
      <g>
        <rect x="215" y="206" width="128" height="46" rx="7" ry="7" />
        <rect x="353" y="206" width="46" height="177" rx="7" ry="7" />
        <rect x="215" y="261" width="46" height="122" rx="7" ry="7" />
        <rect x="278" y="280" width="64" height="46" rx="7" ry="7" />
      </g>
      <g>
        <rect x="430" y="206" width="46" height="110" rx="7" ry="7" />
        <rect x="568" y="206" width="46" height="177" rx="7" ry="7" />
        <rect x="494" y="270" width="64" height="46" rx="7" ry="7" />
        <rect x="451" y="337" width="107" height="46" rx="7" ry="7" />
      </g>
    </svg>

    <h1>CSS Day 2025</h1>
    <h2>Beyond Borders (and Outlines): <br /> Crafting Inclusive Experiences with Modern CSS</h2>

    <div class="header__links">
      <a class="header__github" title="Open Project in GitHub in a new tab" rel="nofollow noopener" target="_blank"
        href="https://github.com/manuelsanchez2/cssday-2025-a11y">
        <svg width="2.5em" height="100%" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 54.630322 54.015118">
          <path
            d="m 277.71868,13.816573 c -6.8916,0.07951 -15.43129,4.101915 -19.52943,10.049113 -8.19599,11.894397 -7.20434,29.027094 -0.18309,35.321267 5.31151,4.761521 13.87634,10.972456 13.79458,7.754038 0.18839,-0.939774 0.65141,-3.137297 0.71306,-4.337685 0,-1.189038 -0.0272,-0.987452 -1.62058,-1.242299 -2.4757,-0.39579 -4.76673,-1.798955 -5.67743,-4.389596 -1.61052,-4.579514 -2.23837,-4.802849 -3.82958,-5.212397 -3.06281,-0.788353 -5.10301,-2.965159 0.11034,-3.769916 3.13372,-0.342582 6.37354,3.04882 7.92956,4.659709 1.86901,2.450571 3.45069,2.198661 4.23598,1.637798 2.91015,-2.077932 2.31457,-3.473821 0.76332,-3.473821 -4.58338,-0.331364 -10.24387,-4.669922 -10.01289,-10.313088 0,-3.303481 0.70247,-5.971302 2.17699,-7.970043 0.94906,-1.286061 0.60166,-3.986901 0.60166,-6.318991 0,-6.360028 3.91875,-7.386002 8.23145,-0.589121 0.68951,1.086617 0.7747,1.386548 1.57454,1.103815 0.53605,-0.189468 2.7522,-0.432356 4.92443,-0.540015 l 3.94996,-0.195871 1.25571,-1.79316 c 1.50839,-2.154555 3.19114,-3.814842 4.38441,-3.770313 0.1704,0.0064 0.331,0.04765 0.47943,0.127133 1.19433,0.639286 3.00646,5.061531 2.9337,8.389143 -0.0394,1.804882 0.0315,1.569429 0.80407,2.075841 2.53497,1.660711 3.04826,9.358339 1.18983,13.184955 -2.16138,4.450477 -6.65665,5.124371 -8.83523,5.758074 -2.87549,0.836428 -2.09312,1.963076 -1.37875,2.309813 4.02061,1.951408 4.85484,9.24343 5.1316,14.501257 0.054,3.41839 9.29375,-3.890407 12.30868,-10.442972 4.42383,-9.614641 4.8559,-31.463827 -6.8371,-37.766201 -5.84623,-3.151188 -12.69735,-4.825948 -19.58922,-4.746467 z m -17.26433,34.944394 c -0.29739,0.02381 -0.92869,0.173223 -0.97949,0.733848 -0.0521,0.578088 0.42493,0.859737 0.71888,0.911993 0.98134,0.174492 1.32953,-0.623306 1.32953,-0.921571 0,-0.298238 -0.1442,-0.798142 -1.06892,-0.72427 z m 1.93887,0.945171 c 0,0.323876 -0.0402,0.837433 0.50694,1.085453 0.22199,0.100674 1.18639,0.03291 1.34488,-0.511836 0.15822,-0.544724 0.16642,-1.115775 -0.85275,-1.261137 -0.36407,-0.05191 -1.00119,0.364808 -0.99907,0.68752 z m 2.55429,1.238673 c -0.51594,0.489559 -0.10875,1.518074 0.32411,1.765618 0.38497,0.220239 1.23084,0.520832 1.77244,-0.388858 0.49081,-0.824495 -0.0939,-1.456135 -0.97975,-1.706272 -0.31326,-0.08848 -0.92048,0.143352 -1.1168,0.329512 z m 3.49064,2.411016 c -0.25056,-0.02381 -0.98081,0.07427 -1.18506,0.172667 -0.90594,0.436615 -0.58129,1.269392 0.13308,1.747335 1.2282,0.82161 2.21694,0.273447 2.11587,-0.987081 -0.0418,-0.523531 -0.65881,-0.894239 -1.06389,-0.932921 z m 1.54438,3.077342 c -0.22754,0.53975 0.31194,1.073468 0.65458,1.319001 0.28495,0.204126 1.0922,0.429551 1.49278,-0.0032 0.87259,-0.942657 0.45085,-1.78218 -0.25824,-2.093092 -1.25571,-0.550439 -1.76133,0.474477 -1.88912,0.777266 z"
            fill="white" paint-order="markers stroke fill" transform="translate(-252.38722,-13.813869)" />
        </svg>
      </a>

      <a class="header__github" href="">
        See Presentation
      </a>
    </div>


  </header>
  <main>
    <section aria-label="CSS Debug With Has">
      <hgroup>
        <h2 class="container-shadow">Debugging with CSS</h2>
        <p>
          We could prepare a small <code>debug.css</code> file that can be
          used to track some accessibility issues, like having tables without
          <code>caption</code>, labels without <code>for</code> or
          <code>button</code> with only an icon and no <code>aria-label</code>
        </p>
      </hgroup>

      <!-- Interactive Elements with role="button" or role="link -->
      <details>
        <summary>Interactive Element with role="button" or role="link"</summary>

        <div>
          <p>
            I have found this to be a common mistake, especially when using frameworks or libraries that allow you to
            create interactive elements without the need of a <code>button</code> or <code>a</code> element.
          </p>

          <pre>
<code class="language-html">&lt;div class=&quot;btn&quot; role=&quot;button&quot; tabindex=&quot;0&quot; aria-label=&quot;Open menu&quot;&gt;
  ☰
&lt;/div&gt;
&lt;span class=&quot;btn&quot; role=&quot;link&quot; tabindex=&quot;0&quot; onclick=&quot;window.location='https://example.com'&quot;&gt;
  Go to Example
&lt;/span&gt;</code></pre>
          <p>
            Theoretically, you can try to create your own buttons and links like this, but the default native elements
            already bring a lot of accessibility features that you would need to implement yourself. It is not enough
            with adding the semantic role, you also need to make sure you have the necessary event listeners, add the
            <code>tabindex</code>, default styles...
          </p>

          <p>If we want to hunt all these cases, we could do the following:</p>

          <pre>
<code class="language-css">[role=&quot;button&quot;],
[role=&quot;link&quot;] {
	outline: 2px dashed var(--color-debug-warning);
	outline-offset: 4px;
	position: relative;
}

[role=&quot;button&quot;]::after,
[role=&quot;link&quot;]::after {
	content: &quot;⚠️ Role needs keyboard support&quot;;
	color: var(--color-debug-warning);
	font-size: 0.675rem;
	font-weight: bold;
	display: block;
	margin-top: 0.25em;
	border: 1px solid var(--color-dark); 
	background-color: var(--color-light);
	padding: 0.25em 0.75em;
	border-radius: 1.25em;
}</code></pre>

          <p>This way we could debug these occurrences like this:</p>

          <div class="flex justify-center" style="margin-bottom: 1rem;">
            <div class="btn" role="button" tabindex="0" aria-label="Open menu">
              ☰
            </div>

            <span class="btn" role="link" tabindex="0" onclick="window.location='https://example.com'">
              Go to Example
            </span>
          </div>

          <p>So that we can change it accordingly with something like this:</p>

          <pre>
<code class="language-html">&lt;button class=&quot;btn&quot; aria-label=&quot;Open menu&quot;&gt;
  ☰
&lt;/button&gt;
&lt;a class=&quot;btn&quot; href=&quot;https://example.com&quot;&gt;
  Go to Example
&lt;/a&gt;</code></pre>

        </div>

        <div class="flex justify-center" style="margin-bottom: 1rem;">
          <button class="btn" aria-label="Open menu">
            ☰
          </button>

          <a class="btn" href="https://example.com">
            Go to Example
          </a>
        </div>

        </div>

      </details>

      <!-- Table without caption -->
      <details>
        <summary>Table without caption</summary>

        <div>

          <p>
            It is true that if the table is already clearly introduced by a nearby heading or text, a
            <code>caption</code> tag may be redundant—but including it still enhances semantic clarity.
          </p>
          <p>In this case, we could check for the non-existence of the caption and then make the decision we think it's
            right.</p>

          <pre>
<code class="language-css">table:not(:has(caption)) {
	outline: 2px dashed var(--color-debug-error);	
	outline-offset: 4px;
	position: relative;
	width: 100%;
}

table:not(:has(caption))::after {
	content: "❌ Table missing <caption>";
	color: var(--color-dark);
	font-size: 0.675rem;
	font-weight: bold;
	display: block;
	margin-block: 0.25em;
	background-color: var(--color-debug-light-error);
	border: 1px solid var(--color-dark); 
	padding: 0.25em 0.75em;
	border-radius: 1.25em;
	width: fit-content;
}</code></pre>

          <table>
            <tr>
              <th>Company</th>
              <th>Contact</th>
              <th>Country</th>
            </tr>
            <tr>
              <td>Alfreds Futterkiste</td>
              <td>Maria Anders</td>
              <td>Germany</td>
            </tr>
            <tr>
              <td>Centro comercial Moctezuma</td>
              <td>Francisco Chang</td>
              <td>Mexico</td>
            </tr>
          </table>

          <p>
            If we want to add a caption, we could do it like this:
          </p>
          <pre>
<code class="language-html">&lt;table&gt;
  &lt;caption&gt;Company Contacts&lt;/caption&gt;
  &lt;tr&gt;
    &lt;th&gt;Company&lt;/th&gt;
    &lt;th&gt;Contact&lt;/th&gt;
    &lt;th&gt;Country&lt;/th&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;Alfreds Futterkiste&lt;/td&gt;
    &lt;td&gt;Maria Anders&lt;/td&gt;
    &lt;td&gt;Germany&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;Centro comercial Moctezuma&lt;/td&gt;
    &lt;td&gt;Francisco Chang&lt;/td&gt;
    &lt;td&gt;Mexico&lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;</code></pre>

          <table style="width: 100%;">
            <caption>Company Contacts</caption>
            <tr>
              <th>Company</th>
              <th>Contact</th>
              <th>Country</th>
            </tr>
            <tr>
              <td>Alfreds Futterkiste</td>
              <td>Maria Anders</td>
              <td>Germany</td>
            </tr>
            <tr>
              <td>Centro comercial Moctezuma</td>
              <td>Francisco Chang</td>
              <td>Mexico</td>
            </tr>
          </table>


        </div>
      </details>

      <!-- UL/OL without LI -->
      <details>
        <summary>UL/OL with invalid children</summary>

        <div>

          <p>
            By mistake, we can have a list with children that are not valid, like a <code>div</code> or a <code>p</code>
            inside an <code>ul</code> or <code>ol</code>.
          </p>

          <p>We can address that with a similar code like we had before:</p>

          <pre>
<code class="language-css">ul:has(&gt; :not(li)),
ol:has(&gt; :not(li)) {
	outline: 2px dashed var(--color-debug-warning);
	outline-offset: 4px;
	position: relative;

}

ul:has(&gt; :not(li))::before,
ol:has(&gt; :not(li))::before{
	content: &quot;⚠️ List has children that aren&#39;t &lt;li&gt;&quot;;
	color: var(--color-debug-warning);
	font-size: 0.675rem;
	font-weight: bold;
	display: block;
	margin-top: 0.25em;
	border: 1px solid var(--color-dark); 
	background-color: var(--color-light);
	padding: 0.25em 0.75em;
	border-radius: 1.25em;
	width: fit-content;
}</code></pre>
        </div>

        <div>
          <ul style="max-width: 300px; margin-inline: auto; margin-bottom: 2rem;">
            <div>Wrong child</div>
            <li>Okay</li>
          </ul>
        </div>

        <div>
          <ol style="max-width: 300px; margin-inline: auto; margin-bottom: 2rem;">
            <div>Wrong child</div>
            <li>Okay</li>
          </ol>
        </div>



        </div>
      </details>

      <!-- Empty headings -->
      <details>
        <summary>Empty headings </summary>

        <div>
          <p>
            It is not uncommon to have headings that are empty, either by mistake or because they are used as a visual
            element.
            We can check for this with the following code:
          </p>

          <pre>
<code class="language-css">h1:empty,
h2:empty,
h3:empty,
h4:empty,
h5:empty,
h6:empty {
	outline: 2px solid var(--color-debug-error);
	outline-offset: 4px;
	position: relative;
}

h1:empty::before,
h2:empty::before,
h3:empty::before,
h4:empty::before,
h5:empty::before,
h6:empty::before {
	content: &quot;⚠️ Empty heading&quot;;
	color: var(--color-debug-warning);
	font-size: 0.675rem;
	font-weight: bold;
	display: block;
	margin-top: 0.25em;
	border: 1px solid var(--color-dark); 
	background-color: var(--color-light);
	padding: 0.25em 0.75em;
	border-radius: 1.25em;
	width: fit-content;
}</code></pre>

          <p>This way we will quickly find the empty headings.</p>

          <div>
            <h3></h3>
          </div>


        </div>
      </details>

      <!-- Imgs without alt tag -->
      <details>
        <summary>Img without alt tag</summary>

        <div>
          <p>
            It is a common mistake to forget to add an <code>alt</code> attribute to an <code>img</code> element.
            We can check for this with the following code:
          </p>

          <pre>
<code class="language-css">*:has(&gt; img:not([alt])) {
  outline: 2px dashed var(--color-debug-error);
  outline-offset: 4px;
  position: relative;
}

*:has(&gt; img:not([alt]))::after {
  content: &quot;❌ Image missing alt text&quot;;
  color: var(--color-dark);
  font-size: 0.675rem;
  font-weight: bold;
  display: block;
  margin-top: 0.25em;
  background-color: var(--color-debug-light-error);
  border: 1px solid var(--color-dark); 
  padding: 0.25em 0.75em;
  border-radius: 1.25em;
  width: fit-content;
}</code></pre>

          <p>This way we will quickly find the images without alt text.</p>

          <div class="flex">

            <div>
              <img src="https://picsum.photos/200/300" />
            </div>

            <div>
              <img src="https://picsum.photos/200/300" alt="" />
            </div>

            <div>
              <img src="https://picsum.photos/200/300" alt="A random image" />
            </div>
          </div>

        </div>
      </details>

      <!-- Label with no for / or input -->
      <details>
        <summary>Label with no for and input</summary>

        <div>

          <p>
            When it comes to labels, it is important to ensure that they are associated with the correct input elements
            and that they have a <code>for</code> attribute that matches the <code>id</code> of the input element.
            We can check for this with the following code:
          </p>

          <p>For example, if we had just a <code>label</code> or both <code>label</code> and <code>input</code> or
            textarea but no connected via <code>for</code> and <code>id</code>, we could show some error messages.</p>

          <p>Here we will handle three different cases:</p>

          <ul>
            <li>
              <code>label</code> with no <code>for</code> attribute
            </li>

            <li>
              <code>label</code> with no <code>input</code> or <code>textarea</code>
            </li>

            <li>
              <code>input</code> or <code>textarea</code> with no <code>id</code> attribute
            </li>
          </ul>

          <p>Let's see how to address these cases.</p>

          <pre>
<code class="language-css">label:not([for]):not(:has(input, select, textarea)),
label[for] + input:not([id])
 {
	outline: 2px dashed var(--color-debug-error);
  	outline-offset: 4px;
  	position: relative;
}

label:not([for]):not(:has(input, select, textarea))::before,
label[for] + input:not([id])::before {
	content: &quot; ⚠️ Label missing &#39;for&#39; or control&quot;;
	color: var(--color-debug-error);
	font-size: 0.675rem;
	font-weight: bold;
	display: block;
	margin-top: 0.25em;
	background-color: var(--color-debug-light-error);
	border: 1px solid var(--color-dark); 
	padding: 0.25em 0.75em;
	border-radius: 1.25em;
	width: fit-content;
}</code></pre>

          <div style="margin-block: 1rem;" class="flex">

            <div>
              <label>Email address</label>
            </div>

            <div style="display: flex; flex-direction: column;">
              <label>Email address</label>
              <input type="email" id="email_no_for" />
            </div>

            <div style="display: flex; flex-direction: column;">
              <label for="email_no_id">Email address</label>
              <input type="email" />
            </div>

          </div>

          <small>(We do not see a message in the latest case, because input does not allow pseudoelements.)</small>
        </div>
      </details>

      <!-- Icon button with no text/aria-label -->
      <details>
        <summary>Icon button with no text/aria-label</summary>

        <div>

          <p>
            We often use icon buttons, but it is important to ensure that they have a text alternative for screen
            readers.
            We can check for this with the following code:
          </p>

          <pre>
<code class="language-css">button:has(svg):not(:has(span)):not([aria-label]) {
	outline: 2px dashed var(--color-debug-warning);
	outline-offset: 4px;
	position: relative;
}

button:has(svg):not(:has(span)):not([aria-label])::after {
	content: &quot; ⚠️ Icon-only button needs a label&quot;;
	color: var(--color-debug-error);
	font-size: 0.675rem;
	font-weight: bold;
	display: block;
	margin-top: 0.25em;
	background-color: var(--color-debug-light-error);
	border: 1px solid var(--color-dark); 
	padding: 0.25em 0.75em;
	border-radius: 1.25em;
	width: fit-content;
}</code></pre>
          <p>
            This will help us find icon buttons that are missing a text alternative.
          </p>

          <div style="margin-bottom: 1rem;">
            <button class="btn">
              <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7" />
                <rect x="2" y="4" width="20" height="16" rx="2" />
              </svg>
            </button>
          </div>

          <p>
            And then, we could add a text alternative like this with <code>aria-label</code> or a <code>span</code> with
            the text inside the button:
          </p>

          <div>
            <button class="btn" aria-label="Send Message">
              <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7" />
                <rect x="2" y="4" width="20" height="16" rx="2" />
              </svg>
            </button>
            
          </div>

          <div>
            <button class="btn">
              <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7" />
                <rect x="2" y="4" width="20" height="16" rx="2" />
              </svg>
              Send Message
            </button>

            <button class="btn">
              <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7" />
                <rect x="2" y="4" width="20" height="16" rx="2" />
              </svg>
              <span>Send Message</span>
        
            </button>
            
          </div>


        </div>


      </details>

    </section>

    <section aria-labelledby="color-contrast">
      <!-- // Check if this is read twice  -->
      <hgroup>
        <h2 class="container-shadow alternative" id="color-contrast">CSS Background Color Contrast</h2>
        <p>
          Following
          <a href="https://lea.verou.me/blog/2024/contrast-color/">Lea Verou's approach to emulate the upcoming CSS
            contrast-colors</a>, we can actually get a compliant foreground/background pairing
          combination.
        </p>
      </hgroup>

      <details>
        <summary>Examples of changing text color depending on bg color</summary>
        <div>
          <div class="flex">

            <div>

              <div style="--color: oklch(65% 0.15 270)" class="box contrast-text">
                This text color adapts based on background color
              </div>
              <div style="--color: oklch(85% 0.1 100)" class="box contrast-text">
                This text color adapts based on background color
              </div>
              <div style="--color: oklch(70% 0.08 10)" class="box contrast-text">
                This text color adapts based on background color
              </div>
            </div>
            <div>

              <div style="--color: oklch(35% 0.12 270)" class="box contrast-text">
                This text color adapts based on background color
              </div>

              <div style="--color: oklch(60% 0.18 150)" class="box contrast-text">
                This text color adapts based on background color
              </div>
            </div>
          </div>

        </div>
      </details>

      <details>
        <summary>Examples of changing outline color depending on bg color</summary>

        <div>
          <div class="flex">
            <div>
              <div style="--color: oklch(65% 0.15 270)" class="box">
                <button class="btn outline-contrast">Click me</button>
              </div>
              <div style="--color: oklch(85% 0.1 100)" class="box">
                <button class="btn outline-contrast">Click me</button>
              </div>
              <div style="--color: oklch(70% 0.08 10)" class="box">
                <button class="btn outline-contrast">Click me</button>
              </div>
            </div>
            <div>
              <div style="--color: oklch(35% 0.12 270)" class="box">
                <button class="btn outline-contrast">Click me</button>
              </div>
              <div style="--color: oklch(60% 0.18 150)" class="box">
                <button class="btn outline-contrast">Click me</button>
              </div>
            </div>
          </div>
        </div>
      </details>

      <h3>How does this work: Steps</h3>

      <details>
        <summary>Step 1: Choose a color to start with!</summary>
        <div>
          <p>
            The resulting text color is determined by the background color, which is set using the <code>--color</code>
            CSS variable. The text color is calculated to ensure a contrast ratio of at least 4.5:1 with the background
            color.
          </p>

          <p>Let's say we are selecting the following color:</p>

          <pre>
<code class="language-css">--color: oklch(65% 0.15 270); // A medium purple</code></pre>

          <p>We are using the <code>oklch</code> color space, which is a perceptually uniform color space that allows us
            to define colors in terms of lightness, chroma, and hue.</p>

          <ul>
            <li>
              <strong>Lightness</strong>: 65% - This determines how light or dark the color is.
            </li>
            <li>
              <strong>Chroma</strong>: 0.15 - This indicates the saturation of the color, with lower values being less
              saturated.
            </li>
            <li>
              <strong>Hue</strong>: 270 - This represents the color's position on the color wheel, with 270 degrees
              corresponding to a shade of purple.
            </li>
          </ul>

          </p>

        </div>
      </details>

      <details>
        <summary>Step 2: Compare the bg lightness to a threshold</summary>
        <div>
          <p>
            We then compare the lightness of the background color to a threshold value (in this case, 62.3%).
            Why this number? After many tests with thousands of colors, Lea Verou found out that:
          </p>

          <pre>
<code class="language-css">--threshold: 62.3%; // A threshold value for lightness</code></code></pre>

          <ul>
            <li><strong>White text</strong> always passes WCAG AA when the lightness of the bg is less than 62.3%</li>
            <li><strong>Black text</strong> always passes WCAG AA when the lightness of the bg is greater than 62.3%
            </li>
          </ul>

          <p>So, below the threshold, white text is WCAG-safe, and above, black text is WCAG-safe.</p>
        </div>
      </details>

      <details>
        <summary>Step 3: We do some math with clamp() and add fallback support</summary>

        <div>
          <p>
            We can use the <code>clamp()</code> function to determine the text color based on the background color's
            lightness.
            The <code>clamp()</code> function allows us to set a minimum, preferred, and maximum value for the text
            color.
          </p>

          <p>In this case, if the background is darker than the threshold, we will get 1 as output (meaning white
            text), otherwise, we will get 0 and therefore black text.</p>

          <pre>
<code class="language-css">.contrast-text {
	/* Fallback */
	color: white;
	text-shadow: 0 0 0.05em black, 0 0 0.05em black;

	@supports (color: oklch(from red l c h)) {
		--l: clamp(0, (l / var(--l-threshold) - 1) * -100000, 1);
		color: oklch(from var(--color) var(--l) 0 h);
		text-shadow: none;
	}

	@supports (color: contrast-color(red)) {
		color: contrast-color(var(--color));
	}
}
</code>
</pre>

          <p>
            If the browser supports this trick with <code>oklch</code> (92.13% as of May 2025), it will use that to
            determine the text color based on the background color. If not, it will use a white text color with a black
            text shadow as a fallback.
          </p>

          <p>
            And also, when one day the <code>contrast-color()</code> function is widely supported, we can use it
            directly to get the compliant text color based on the background color.
          </p>



        </div>
      </details>


    </section>
  </main>

  <footer class="footer">
    <p>
      Project made with 💙
      <span class="sr-only">a lot of love</span>
      by <a href="https://www.manuelsanchezdev.com">Manuel Sánchez</a>.
    </p>
  </footer>
</body>

</html>